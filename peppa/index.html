<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Quiz o Śwince Peppie</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            min-height: -webkit-fill-available; /* Dla Safari mobile, aby poprawnie wypełnić wysokość */
            margin: 0;
            background-color: #fdf0f5; /* Bardzo jasny różowy, bardziej subtelny */
            color: #333;
            padding: 20px; /* Zwiększony padding dla lepszego dopasowania */
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased; /* Wygładzanie czcionek na WebKit */
            -moz-osx-font-smoothing: grayscale; /* Wygładzanie czcionek na Firefox */
        }
        .quiz-container {
            background-color: #ffffff;
            padding: 20px; /* Dostosowany padding wewnętrzny */
            border-radius: 12px; /* Bardziej zaokrąglone rogi */
            box-shadow: 0 4px 20px rgba(0,0,0,0.12); /* Subtelniejszy, nowocześniejszy cień */
            width: 100%;
            max-width: 450px; /* Nieco mniejszy max-width dla lepszego wyglądu na telefonie */
            text-align: center;
        }
        h1 {
            color: #e91e63; /* Głęboki różowy, bardziej nasycony */
            margin-top: 0;
            margin-bottom: 25px;
            font-size: 1.8em; /* Powiększona czcionka nagłówka */
            font-weight: 600;
        }
        #question-text {
            font-size: 1.4em; /* Powiększona czcionka pytania */
            margin-bottom: 30px;
            min-height: 70px;
            white-space: pre-line;
            line-height: 1.5; /* Lepsza czytelność wieloliniowych pytań */
            color: #444; /* Nieco ciemniejszy tekst pytania */
            font-weight: 500;
        }
        .answer-buttons button {
            display: block;
            width: 100%;
            padding: 18px 15px; /* Zwiększony padding pionowy przycisków */
            margin: 12px 0;
            font-size: 1.2em; /* Powiększona czcionka na przyciskach */
            font-weight: 500;
            border: 2px solid #f06292; /* Jaśniejsza różowa ramka */
            border-radius: 10px; /* Bardziej zaokrąglone przyciski */
            background-color: #fce4ec; /* Bardzo jasny różowy dla przycisków */
            color: #555; /* Ciemniejszy tekst przycisków */
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s, transform 0.1s;
            -webkit-tap-highlight-color: transparent; /* Usuwa niebieskie podświetlenie przy dotknięciu na iOS */
        }
        .answer-buttons button:hover:not(:disabled) { /* Hover tylko dla aktywnych przycisków */
            background-color: #f8bbd0; 
            border-color: #ec407a;
        }
        .answer-buttons button:active:not(:disabled) {
            transform: scale(0.97);
        }
        .answer-buttons button:disabled { /* Styl dla zablokowanych przycisków */
            cursor: not-allowed;
            opacity: 0.7;
        }
        #message {
            margin-top: 25px;
            font-size: 1.2em; /* Powiększona czcionka komunikatu */
            font-weight: 600;
            min-height: 35px;
            line-height: 1.4;
        }
        .correct {
            background-color: #c8e6c9 !important; /* Jaśniejszy zielony */
            border-color: #66bb6a !important;
            color: #2e7d32 !important;
        }
        .incorrect {
            background-color: #ffcdd2 !important; /* Jaśniejszy czerwony */
            border-color: #ef5350 !important;
            color: #c62828 !important;
        }
        .message-correct {
            color: #4caf50; /* Zielony dla komunikatu */
        }
        .message-incorrect {
            color: #f44336; /* Czerwony dla komunikatu */
        }

        /* Specyficzne dla iPhone dla lepszego wyglądu i uniknięcia problemów z 'notch' */
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #1c1c1e; /* Ciemne tło dla trybu ciemnego */
                color: #f2f2f7;
            }
            .quiz-container {
                background-color: #2c2c2e;
                box-shadow: 0 4px 20px rgba(0,0,0,0.25);
            }
            h1 { color: #ff80ab; }
            #question-text { color: #e5e5ea; }
            .answer-buttons button {
                border-color: #ff80ab;
                background-color: #3a3a3c;
                color: #f2f2f7;
            }
            .answer-buttons button:hover:not(:disabled) {
                background-color: #48484a;
                border-color: #ff5c9d;
            }
            .correct {
                background-color: #34c759 !important; /* Ciemny zielony iOS */
                border-color: #2aa34a !important;
                color: #ffffff !important;
            }
            .incorrect {
                background-color: #ff3b30 !important; /* Ciemny czerwony iOS */
                border-color: #d9352e !important;
                color: #ffffff !important;
            }
            .message-correct { color: #32d74b; } /* Jasnozielony iOS */
            .message-incorrect { color: #ff453a; } /* Jasnoczerwony iOS */
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>Quiz o Śwince Peppie</h1>
        <div id="question-text">Ładowanie pytania...</div>
        <div class="answer-buttons">
            <button id="btn-a"></button>
            <button id="btn-b"></button>
            <button id="btn-c"></button>
        </div>
        <div id="message"></div>
    </div>

    <script>
        const questions = [
            // ... (tutaj wklej swoją tablicę pytań - zostawiłem ją pustą dla skrócenia, ale powinna być taka jak poprzednio)
            { questionText: "Jaki kolor sukienki\nnajczęściej nosi Świnka Peppa?", answers: ["Niebieską", "Czerwoną", "Żółtą"], correctAnswerIndex: 1 },
            { questionText: "Jak nazywa się młodszy\nbrat Świnki Peppy?", answers: ["George", "Danny", "Pedro"], correctAnswerIndex: 0 },
            { questionText: "Co najbardziej lubi robić Świnka Peppa\ni jej rodzina, gdy pada deszcz?", answers: ["Czytać książki", "Oglądać telewizję", "Skakać po błotnistych kałużach"], correctAnswerIndex: 2 },
            { questionText: "Kto jest najlepszą\nprzyjaciółką Świnki Peppy?", answers: ["Owca Suzy", "Zebra Zoe", "Królik Rebecca"], correctAnswerIndex: 0 },
            { questionText: "Jakiego zwierzaka ma George,\nbrat Peppy?", answers: ["Misia", "Dinozaura", "Samochodzik"], correctAnswerIndex: 1 },
            { questionText: "Gdzie pracuje\nTata Świnka?", answers: ["Jest nauczycielem", "Jest architektem/\ninżynierem", "Jest lekarzem"], correctAnswerIndex: 1 },
            { questionText: "Jak nazywają się dziadkowie\nŚwinki Peppy od strony Mamy Świnki?", answers: ["Babcia Świnka i Dziadek Świnka", "Babcia Królik i Dziadek Królik", "Babcia Pies i Dziadek Pies"], correctAnswerIndex: 0 },
            { questionText: "Czym Dziadek Świnka bardzo\nlubi się zajmować w swoim ogrodzie?", answers: ["Uprawiać warzywa", "Grać w piłkę", "Czytać gazetę"], correctAnswerIndex: 0 },
            { questionText: "Jakiego instrumentu muzycznego\nuczy się grać Świnka Peppa?", answers: ["Pianina", "Bębenka", "Gitary"], correctAnswerIndex: 1 },
            { questionText: "Co mówi Świnka Peppa na początku\nprawie każdego odcinka?", answers: ["\"Cześć, to ja, Peppa!\"", "\"Jestem Świnka Peppa.\" (i reszta)", "\"Dzień dobry wszystkim!\""], correctAnswerIndex: 1 },
            { questionText: "Kto jest nauczycielką Świnki\nPeppy w przedszkolu?", answers: ["Pani Gazela", "Pani Królik", "Pani Zebra"], correctAnswerIndex: 0 },
            { questionText: "Jakiego koloru jest samochód\nrodziny Świnek?", answers: ["Niebieski", "Czerwony", "Zielony"], correctAnswerIndex: 1 },
            { questionText: "Co George (Jacek) często mówi,\ngdy jest smutny?", answers: ["\"Ojej!\"", "\"Łee!\" (płacz)", "\"Nie chcę!\""], correctAnswerIndex: 1 },
            { questionText: "Kto jest listonoszem\nw świecie Świnki Peppy?", answers: ["Pan Zebra", "Pan Byk", "Pan Wilk"], correctAnswerIndex: 0 },
            { questionText: "Jak nazywa się kuzynka\nŚwinki Peppy, która jest starsza?", answers: ["Chloe", "Candy", "Emily"], correctAnswerIndex: 0 },
            { questionText: "Jaki jest ulubiony program TV\nPeppy i George'a o warzywach?", answers: ["Pan Ziemniak", "Pani Marchewka", "Wesołe Warzywa"], correctAnswerIndex: 0 },
            { questionText: "Czym zajmuje się Dziadek Świnka,\ngdy nie jest w ogrodzie?", answers: ["W warsztacie", "Na swojej łódce", "W bibliotece"], correctAnswerIndex: 1 },
            { questionText: "Kiedy Peppa i George się śmieją,\nco często robią?", answers: ["Klaszczą w ręce", "Skaczą w górę i w dół", "Padają na plecy i chichoczą"], correctAnswerIndex: 2 },
            { questionText: "Jak nazywa się złota rybka\nŚwinki Peppy?", answers: ["Złotka", "Pływaczka", "Bubbles"], correctAnswerIndex: 0 },
            { questionText: "Kto w świecie Peppy pracuje\njako weterynarz?", answers: ["Doktor Chomik", "Doktor Niedźwiedź", "Doktor Słoń"], correctAnswerIndex: 0 },
            { questionText: "Jak nazywa się pluszowy miś\nPeppy?", answers: ["Teddy", "Misiu", "Przytulak"], correctAnswerIndex: 0 },
            { questionText: "Co często gubi Tata Świnka?", answers: ["Kluczyki do samochodu", "Okulary", "Telefon"], correctAnswerIndex: 1 },
            { questionText: "Kto jest bardzo mądry i wie\ndużo o gwiazdach i planetach?", answers: ["Słonik Edmond", "Lisek Freddy", "Kucyk Pedro"], correctAnswerIndex: 0 },
            { questionText: "Jaką grę Peppa i przyjaciele\nczęsto grają na dworze?", answers: ["W chowanego", "W \"Kto pierwszy...?\"", "W \"Ryczące zwierzęta\""], correctAnswerIndex: 2 },
            { questionText: "Jaki pojazd ma Pani Królik,\nktórym często pomaga innym?", answers: ["Helikopter ratunkowy", "Ciężarówka pomocy", "Łódź podwodna"], correctAnswerIndex: 0 },
            { questionText: "Gdzie Peppa i George często\nbawią się ze swoimi przyjaciółmi?", answers: ["W kuchni", "W sypialni Peppy i George'a", "W garażu"], correctAnswerIndex: 1 },
            { questionText: "Jaki dźwięk wydaje ulubiony\ndinozaur George'a?", answers: ["\"Miau!\"", "\"Grrr! Dinozaur!\"", "\"Piiip!\""], correctAnswerIndex: 1 },
            { questionText: "Jakiego koloru jest domek,\nw którym mieszka rodzina Świnek?", answers: ["Żółty z czerwonym dachem", "Niebieski z zielonym dachem", "Czerwony z żółtym dachem"], correctAnswerIndex: 0 },
            { questionText: "Kto bardzo lubi marchewki?", answers: ["Rebecca Królik", "Danny Pies", "Suzy Owca"], correctAnswerIndex: 0 },
            { questionText: "Kto jest dentystą\nw świecie Świnki Peppy?", answers: ["Doktor Słoń", "Doktor Krokodyl", "Doktor Niedźwiedź Bruno"], correctAnswerIndex: 0 }
        ];

        let currentQuestionIndex;
        let shuffledQuestions = [];
        let questionAnsweredCorrectly = false;
        let score = 0;

        const questionTextElement = document.getElementById('question-text');
        const answerButtonElements = [
            document.getElementById('btn-a'),
            document.getElementById('btn-b'),
            document.getElementById('btn-c')
        ];
        const messageElement = document.getElementById('message');

        function startGame() {
            let tempQuestions = [...questions];
            shuffledQuestions = [];
            while (tempQuestions.length > 0) {
                const randomIndex = Math.floor(Math.random() * tempQuestions.length);
                shuffledQuestions.push(tempQuestions.splice(randomIndex, 1)[0]);
            }
            currentQuestionIndex = 0;
            score = 0;
            answerButtonElements.forEach(btn => btn.style.display = 'block'); // Pokaż przyciski na start
            loadNextQuestion();
        }

        function loadNextQuestion() {
            resetButtonStates(); // Przeniesione na początek, aby zawsze resetować stan
            questionAnsweredCorrectly = false;
            messageElement.textContent = '';
            messageElement.className = '';

            if (currentQuestionIndex < shuffledQuestions.length) {
                const question = shuffledQuestions[currentQuestionIndex];
                questionTextElement.textContent = question.questionText;
                question.answers.forEach((answer, index) => {
                    answerButtonElements[index].textContent = answer;
                    // Upewnij się, że przycisk nie ma klas correct/incorrect z poprzedniego pytania
                    answerButtonElements[index].classList.remove('correct', 'incorrect'); 
                });
            } else {
                questionTextElement.textContent = `Koniec Gry! Twój wynik: ${score} / ${shuffledQuestions.length}`;
                answerButtonElements.forEach(btn => btn.style.display = 'none');
                messageElement.textContent = 'Aby zagrać ponownie, odśwież stronę.';
            }
        }

        function resetButtonStates() {
            answerButtonElements.forEach(button => {
                button.className = ''; // Usuwa wszystkie klasy, w tym correct/incorrect
                button.disabled = false;
            });
        }

        function checkAnswer(selectedIndex) {
            // Nie pozwól na ponowne odpowiadanie na to samo pytanie, jeśli już była próba (nawet błędna)
            // chyba że chcemy pozwolić na wielokrotne próby na to samo pytanie.
            // W tej wersji, po błędnej odpowiedzi, użytkownik musi wybrać inny przycisk.
            // Po poprawnej odpowiedzi, przechodzimy dalej.
            if (answerButtonElements[selectedIndex].disabled && !questionAnsweredCorrectly) return; // Jeśli przycisk jest już zablokowany po błędnej odp.
            if (questionAnsweredCorrectly) return;


            const question = shuffledQuestions[currentQuestionIndex];
            const selectedButton = answerButtonElements[selectedIndex];

            // Usuń klasy z innych przycisków (jeśli były błędne wcześniej)
            answerButtonElements.forEach(btn => {
                if (btn !== selectedButton) {
                    btn.classList.remove('incorrect');
                    // Nie usuwaj 'disabled' z innych błędnych, chyba że chcemy pełen reset
                }
            });


            if (selectedIndex === question.correctAnswerIndex) {
                selectedButton.classList.add('correct');
                messageElement.textContent = 'To dobra odpowiedź!';
                messageElement.className = 'message-correct';
                questionAnsweredCorrectly = true;
                score++;
                answerButtonElements.forEach(btn => btn.disabled = true);
                selectedButton.disabled = false; // Pozwól na kliknięcie, ale bez efektu

                setTimeout(() => {
                    currentQuestionIndex++;
                    loadNextQuestion();
                }, 1500);
            } else {
                selectedButton.classList.add('incorrect');
                messageElement.textContent = 'Błędna odpowiedź. Spróbuj jeszcze raz!';
                messageElement.className = 'message-incorrect';
                selectedButton.disabled = true; // Zablokuj ten błędny przycisk
            }
        }

        window.onload = startGame;
    </script>
</body>
</html>
